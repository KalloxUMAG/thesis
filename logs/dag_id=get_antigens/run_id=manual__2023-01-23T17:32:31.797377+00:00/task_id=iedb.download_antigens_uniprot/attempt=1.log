[2023-01-23T14:32:38.354-0300] {taskinstance.py:1087} INFO - Dependencies all met for <TaskInstance: get_antigens.iedb.download_antigens_uniprot manual__2023-01-23T17:32:31.797377+00:00 [queued]>
[2023-01-23T14:32:38.367-0300] {taskinstance.py:1087} INFO - Dependencies all met for <TaskInstance: get_antigens.iedb.download_antigens_uniprot manual__2023-01-23T17:32:31.797377+00:00 [queued]>
[2023-01-23T14:32:38.367-0300] {taskinstance.py:1283} INFO - 
--------------------------------------------------------------------------------
[2023-01-23T14:32:38.367-0300] {taskinstance.py:1284} INFO - Starting attempt 1 of 1
[2023-01-23T14:32:38.367-0300] {taskinstance.py:1285} INFO - 
--------------------------------------------------------------------------------
[2023-01-23T14:32:38.380-0300] {taskinstance.py:1304} INFO - Executing <Task(PythonOperator): iedb.download_antigens_uniprot> on 2023-01-23 17:32:31.797377+00:00
[2023-01-23T14:32:38.384-0300] {standard_task_runner.py:55} INFO - Started process 6111 to run task
[2023-01-23T14:32:38.386-0300] {standard_task_runner.py:82} INFO - Running: ['***', 'tasks', 'run', 'get_antigens', 'iedb.download_antigens_uniprot', 'manual__2023-01-23T17:32:31.797377+00:00', '--job-id', '344', '--raw', '--subdir', 'DAGS_FOLDER/get_antigens.py', '--cfg-path', '/tmp/tmp3zxfts41']
[2023-01-23T14:32:38.387-0300] {standard_task_runner.py:83} INFO - Job 344: Subtask iedb.download_antigens_uniprot
[2023-01-23T14:32:38.456-0300] {task_command.py:389} INFO - Running <TaskInstance: get_antigens.iedb.download_antigens_uniprot manual__2023-01-23T17:32:31.797377+00:00 [running]> on host kallo-Ubuntu
[2023-01-23T14:32:38.531-0300] {taskinstance.py:1513} INFO - Exporting the following env vars:
AIRFLOW_CTX_DAG_OWNER=Kallox
AIRFLOW_CTX_DAG_ID=get_antigens
AIRFLOW_CTX_TASK_ID=iedb.download_antigens_uniprot
AIRFLOW_CTX_EXECUTION_DATE=2023-01-23T17:32:31.797377+00:00
AIRFLOW_CTX_TRY_NUMBER=1
AIRFLOW_CTX_DAG_RUN_ID=manual__2023-01-23T17:32:31.797377+00:00
[2023-01-23T14:32:43.734-0300] {logging_mixin.py:137} INFO - P10520 downloaded.
[2023-01-23T14:32:43.742-0300] {logging_mixin.py:137} INFO - 1/77860
[2023-01-23T14:32:44.969-0300] {logging_mixin.py:137} INFO - A0AV96 downloaded.
[2023-01-23T14:32:44.977-0300] {logging_mixin.py:137} INFO - 2/77860
[2023-01-23T14:32:46.376-0300] {logging_mixin.py:137} INFO - P55011 downloaded.
[2023-01-23T14:32:46.386-0300] {logging_mixin.py:137} INFO - 3/77860
[2023-01-23T14:32:47.983-0300] {logging_mixin.py:137} INFO - Q29983 downloaded.
[2023-01-23T14:32:47.988-0300] {logging_mixin.py:137} INFO - 4/77860
[2023-01-23T14:32:50.840-0300] {logging_mixin.py:137} INFO - P12883 downloaded.
[2023-01-23T14:32:50.850-0300] {logging_mixin.py:137} INFO - 5/77860
[2023-01-23T14:32:51.921-0300] {logging_mixin.py:137} INFO - P9WI33 downloaded.
[2023-01-23T14:32:51.925-0300] {logging_mixin.py:137} INFO - 6/77860
[2023-01-23T14:32:53.038-0300] {logging_mixin.py:137} INFO - A5K724 downloaded.
[2023-01-23T14:32:53.045-0300] {logging_mixin.py:137} INFO - 7/77860
[2023-01-23T14:32:54.114-0300] {logging_mixin.py:137} INFO - P9WJC3 downloaded.
[2023-01-23T14:32:54.118-0300] {logging_mixin.py:137} INFO - 8/77860
[2023-01-23T14:32:55.921-0300] {logging_mixin.py:137} INFO - Q6MWX9 downloaded.
[2023-01-23T14:32:55.926-0300] {logging_mixin.py:137} INFO - 9/77860
[2023-01-23T14:32:57.009-0300] {logging_mixin.py:137} INFO - P20531 downloaded.
[2023-01-23T14:32:57.017-0300] {logging_mixin.py:137} INFO - 10/77860
[2023-01-23T14:32:58.088-0300] {logging_mixin.py:137} INFO - P21092 downloaded.
[2023-01-23T14:32:58.093-0300] {logging_mixin.py:137} INFO - 11/77860
[2023-01-23T14:32:59.156-0300] {logging_mixin.py:137} INFO - Q9P8G3 downloaded.
[2023-01-23T14:32:59.157-0300] {logging_mixin.py:137} INFO - The antigen was a enzime
[2023-01-23T14:32:59.164-0300] {logging_mixin.py:137} INFO - 12/77860
[2023-01-23T14:33:00.349-0300] {logging_mixin.py:137} INFO - P21171 downloaded.
[2023-01-23T14:33:00.350-0300] {logging_mixin.py:137} INFO - The antigen was a enzime
[2023-01-23T14:33:00.350-0300] {logging_mixin.py:137} INFO - 13/77860
[2023-01-23T14:33:01.478-0300] {logging_mixin.py:137} INFO - Q60153 downloaded.
[2023-01-23T14:33:01.485-0300] {logging_mixin.py:137} INFO - 14/77860
[2023-01-23T14:33:02.808-0300] {logging_mixin.py:137} INFO - P04925 downloaded.
[2023-01-23T14:33:02.814-0300] {logging_mixin.py:137} INFO - 15/77860
[2023-01-23T14:33:04.128-0300] {logging_mixin.py:137} INFO - P9WGU1 downloaded.
[2023-01-23T14:33:04.134-0300] {logging_mixin.py:137} INFO - 16/77860
[2023-01-23T14:33:05.226-0300] {logging_mixin.py:137} INFO - Q04568 downloaded.
[2023-01-23T14:33:05.234-0300] {logging_mixin.py:137} INFO - 17/77860
[2023-01-23T14:33:06.434-0300] {logging_mixin.py:137} INFO - A0A806ZES8 downloaded.
[2023-01-23T14:33:06.435-0300] {logging_mixin.py:137} INFO - The antigen was a enzime
[2023-01-23T14:33:06.435-0300] {logging_mixin.py:137} INFO - 18/77860
[2023-01-23T14:33:08.378-0300] {logging_mixin.py:137} INFO - P27958 downloaded.
[2023-01-23T14:33:08.394-0300] {logging_mixin.py:137} INFO - 19/77860
[2023-01-23T14:33:09.984-0300] {logging_mixin.py:137} INFO - P17763 downloaded.
[2023-01-23T14:33:09.995-0300] {logging_mixin.py:137} INFO - 20/77860
[2023-01-23T14:33:11.106-0300] {logging_mixin.py:137} INFO - P20497 downloaded.
[2023-01-23T14:33:11.113-0300] {logging_mixin.py:137} INFO - 21/77860
[2023-01-23T14:33:12.311-0300] {logging_mixin.py:137} INFO - F5HGJ4 downloaded.
[2023-01-23T14:33:12.320-0300] {logging_mixin.py:137} INFO - 22/77860
[2023-01-23T14:33:13.415-0300] {logging_mixin.py:137} INFO - P13285 downloaded.
[2023-01-23T14:33:13.419-0300] {logging_mixin.py:137} INFO - 23/77860
[2023-01-23T14:33:14.487-0300] {logging_mixin.py:137} INFO - Q7AQA0 downloaded.
[2023-01-23T14:33:14.491-0300] {logging_mixin.py:137} INFO - 24/77860
[2023-01-23T14:33:15.639-0300] {logging_mixin.py:137} INFO - Q65LP7 downloaded.
[2023-01-23T14:33:15.639-0300] {logging_mixin.py:137} INFO - The antigen was a enzime
[2023-01-23T14:33:15.640-0300] {logging_mixin.py:137} INFO - 25/77860
[2023-01-23T14:33:16.735-0300] {logging_mixin.py:137} INFO - Q9LED1 downloaded.
[2023-01-23T14:33:16.744-0300] {logging_mixin.py:137} INFO - 26/77860
[2023-01-23T14:33:18.091-0300] {logging_mixin.py:137} INFO - P9WNF5 downloaded.
[2023-01-23T14:33:18.100-0300] {logging_mixin.py:137} INFO - 27/77860
[2023-01-23T14:33:19.191-0300] {logging_mixin.py:137} INFO - Q9PZT0 downloaded.
[2023-01-23T14:33:19.193-0300] {logging_mixin.py:137} INFO - The antigen was a enzime
[2023-01-23T14:33:19.193-0300] {logging_mixin.py:137} INFO - 28/77860
[2023-01-23T14:33:20.293-0300] {logging_mixin.py:137} INFO - Q81862 downloaded.
[2023-01-23T14:33:20.298-0300] {logging_mixin.py:137} INFO - 29/77860
[2023-01-23T14:33:23.273-0300] {logging_mixin.py:137} INFO - P9WNK7 downloaded.
[2023-01-23T14:33:23.277-0300] {logging_mixin.py:137} INFO - 30/77860
[2023-01-23T14:33:24.418-0300] {logging_mixin.py:137} INFO - Q40240 downloaded.
[2023-01-23T14:33:24.421-0300] {logging_mixin.py:137} INFO - 31/77860
[2023-01-23T14:33:25.546-0300] {logging_mixin.py:137} INFO - Q81870 downloaded.
[2023-01-23T14:33:25.550-0300] {logging_mixin.py:137} INFO - 32/77860
[2023-01-23T14:33:26.930-0300] {logging_mixin.py:137} INFO - P59594 downloaded.
[2023-01-23T14:33:26.936-0300] {logging_mixin.py:137} INFO - 33/77860
[2023-01-23T14:33:28.255-0300] {logging_mixin.py:137} INFO - Q6NK15 downloaded.
[2023-01-23T14:33:28.259-0300] {logging_mixin.py:137} INFO - 34/77860
[2023-01-23T14:33:30.642-0300] {logging_mixin.py:137} INFO - P0C6X7 downloaded.
[2023-01-23T14:33:30.653-0300] {logging_mixin.py:137} INFO - 35/77860
[2023-01-23T14:33:32.733-0300] {logging_mixin.py:137} INFO - Q4E0J7 downloaded.
[2023-01-23T14:33:32.737-0300] {logging_mixin.py:137} INFO - 36/77860
[2023-01-23T14:33:34.048-0300] {logging_mixin.py:137} INFO - Q69467 downloaded.
[2023-01-23T14:33:34.057-0300] {logging_mixin.py:137} INFO - 37/77860
[2023-01-23T14:33:35.129-0300] {logging_mixin.py:137} INFO - P9WJ11 downloaded.
[2023-01-23T14:33:35.134-0300] {logging_mixin.py:137} INFO - 38/77860
[2023-01-23T14:33:36.226-0300] {logging_mixin.py:137} INFO - Q6SW99 downloaded.
[2023-01-23T14:33:36.235-0300] {logging_mixin.py:137} INFO - 39/77860
[2023-01-23T14:33:37.561-0300] {logging_mixin.py:137} INFO - Q786F3 downloaded.
[2023-01-23T14:33:37.570-0300] {logging_mixin.py:137} INFO - 40/77860
[2023-01-23T14:33:39.177-0300] {logging_mixin.py:137} INFO - P05769 downloaded.
[2023-01-23T14:33:39.182-0300] {logging_mixin.py:137} INFO - 41/77860
[2023-01-23T14:33:40.281-0300] {logging_mixin.py:137} INFO - P20537 downloaded.
[2023-01-23T14:33:40.285-0300] {logging_mixin.py:137} INFO - 42/77860
[2023-01-23T14:33:41.627-0300] {logging_mixin.py:137} INFO - P9WQP1 downloaded.
[2023-01-23T14:33:41.628-0300] {logging_mixin.py:137} INFO - The antigen was a enzime
[2023-01-23T14:33:41.635-0300] {logging_mixin.py:137} INFO - 43/77860
[2023-01-23T14:33:43.012-0300] {logging_mixin.py:137} INFO - Q8I0U8 downloaded.
[2023-01-23T14:33:43.016-0300] {logging_mixin.py:137} INFO - 44/77860
[2023-01-23T14:33:47.182-0300] {logging_mixin.py:137} INFO - P01012 downloaded.
[2023-01-23T14:33:47.187-0300] {logging_mixin.py:137} INFO - 45/77860
[2023-01-23T14:33:48.249-0300] {logging_mixin.py:137} INFO - A3X8Q8 downloaded.
[2023-01-23T14:33:48.253-0300] {logging_mixin.py:137} INFO - 46/77860
[2023-01-23T14:33:54.340-0300] {taskinstance.py:1772} ERROR - Task failed with exception
Traceback (most recent call last):
  File "/home/kallox/anaconda3/envs/airflow/lib/python3.7/site-packages/urllib3/response.py", line 444, in _error_catcher
    yield
  File "/home/kallox/anaconda3/envs/airflow/lib/python3.7/site-packages/urllib3/response.py", line 828, in read_chunked
    self._update_chunk_length()
  File "/home/kallox/anaconda3/envs/airflow/lib/python3.7/site-packages/urllib3/response.py", line 758, in _update_chunk_length
    line = self._fp.fp.readline()
  File "/home/kallox/anaconda3/envs/airflow/lib/python3.7/socket.py", line 589, in readinto
    return self._sock.recv_into(b)
  File "/home/kallox/anaconda3/envs/airflow/lib/python3.7/ssl.py", line 1071, in recv_into
    return self.read(nbytes, buffer)
  File "/home/kallox/anaconda3/envs/airflow/lib/python3.7/ssl.py", line 929, in read
    return self._sslobj.read(len, buffer)
socket.timeout: The read operation timed out

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/kallox/anaconda3/envs/airflow/lib/python3.7/site-packages/requests/models.py", line 816, in generate
    yield from self.raw.stream(chunk_size, decode_content=True)
  File "/home/kallox/anaconda3/envs/airflow/lib/python3.7/site-packages/urllib3/response.py", line 624, in stream
    for line in self.read_chunked(amt, decode_content=decode_content):
  File "/home/kallox/anaconda3/envs/airflow/lib/python3.7/site-packages/urllib3/response.py", line 857, in read_chunked
    self._original_response.close()
  File "/home/kallox/anaconda3/envs/airflow/lib/python3.7/contextlib.py", line 130, in __exit__
    self.gen.throw(type, value, traceback)
  File "/home/kallox/anaconda3/envs/airflow/lib/python3.7/site-packages/urllib3/response.py", line 449, in _error_catcher
    raise ReadTimeoutError(self._pool, None, "Read timed out.")
urllib3.exceptions.ReadTimeoutError: HTTPSConnectionPool(host='rest.uniprot.org', port=443): Read timed out.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/kallox/anaconda3/envs/airflow/lib/python3.7/site-packages/airflow/operators/python.py", line 175, in execute
    return_value = self.execute_callable()
  File "/home/kallox/anaconda3/envs/airflow/lib/python3.7/site-packages/airflow/operators/python.py", line 192, in execute_callable
    return self.python_callable(*self.op_args, **self.op_kwargs)
  File "/home/kallox/airflow/dags/scripts/iedb/antigens_uniprot.py", line 139, in antigens_uniprot
    get_proteins(uniprot_ids)
  File "/home/kallox/airflow/dags/scripts/iedb/antigens_uniprot.py", line 18, in get_proteins
    response = requests.get(api_link, timeout=5)
  File "/home/kallox/anaconda3/envs/airflow/lib/python3.7/site-packages/requests/api.py", line 73, in get
    return request("get", url, params=params, **kwargs)
  File "/home/kallox/anaconda3/envs/airflow/lib/python3.7/site-packages/requests/api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
  File "/home/kallox/anaconda3/envs/airflow/lib/python3.7/site-packages/requests/sessions.py", line 587, in request
    resp = self.send(prep, **send_kwargs)
  File "/home/kallox/anaconda3/envs/airflow/lib/python3.7/site-packages/requests/sessions.py", line 745, in send
    r.content
  File "/home/kallox/anaconda3/envs/airflow/lib/python3.7/site-packages/requests/models.py", line 899, in content
    self._content = b"".join(self.iter_content(CONTENT_CHUNK_SIZE)) or b""
  File "/home/kallox/anaconda3/envs/airflow/lib/python3.7/site-packages/requests/models.py", line 822, in generate
    raise ConnectionError(e)
requests.exceptions.ConnectionError: HTTPSConnectionPool(host='rest.uniprot.org', port=443): Read timed out.
[2023-01-23T14:33:54.369-0300] {taskinstance.py:1327} INFO - Marking task as FAILED. dag_id=get_antigens, task_id=iedb.download_antigens_uniprot, execution_date=20230123T173231, start_date=20230123T173238, end_date=20230123T173354
[2023-01-23T14:33:54.390-0300] {standard_task_runner.py:105} ERROR - Failed to execute job 344 for task iedb.download_antigens_uniprot (HTTPSConnectionPool(host='rest.uniprot.org', port=443): Read timed out.; 6111)
[2023-01-23T14:33:54.442-0300] {local_task_job.py:159} INFO - Task exited with return code 1
[2023-01-23T14:33:54.498-0300] {taskinstance.py:2582} INFO - 0 downstream tasks scheduled from follow-on schedule check
